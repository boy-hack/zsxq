# 使用指南

## 快速开始

### 登录系统

1. 访问配置的登录地址，默认：`IP:8088/w15scan/login`
2. 使用配置的用户名密码登录
3. 首次登录后建议修改默认密码

### 创建第一个项目

1. 点击**项目管理** → **新建项目**
2. 填写项目名称和描述
3. 配置目标范围（域名、IP段等）
4. 选择扫描类型和深度
5. 保存并启动项目

## 项目配置

### 基础配置

#### 目标范围设置

```
# 域名配置
example.com
*.example.com
sub.example.com

# IP段配置
192.168.1.0/24
10.0.0.1-10.0.0.100

# 端口配置
80,443,8080,9090
1-65535
```

#### 扫描深度配置

- **快速扫描**：只扫描常见端口和服务
- **标准扫描**：扫描全端口和常见漏洞
- **深度扫描**：全端口+全PoC+深度爬虫

### 高级配置

#### 扫描策略

- **并发数量**：根据网络环境调整
- **扫描间隔**：避免触发目标防护
- **超时设置**：根据目标响应速度调整
- **重试次数**：网络不稳定时增加重试

#### 过滤规则

- **白名单**：只扫描指定的资产
- **黑名单**：排除不需要扫描的资产
- **关键词过滤**：根据关键词过滤结果

## 功能使用

### DNS发现

#### 子域名爆破

1. 进入项目 → **DNS模块**
2. 点击**开始DNS扫描**
3. 选择字典级别：
   - **快速**：1w常用字典
   - **全面**：5w全面字典
   - **极限**：10w+极限字典

#### 被动收集

- **第三方API**：自动调用subfinder等工具
- **证书透明度**：从CT日志中发现子域名
- **搜索引擎**：从搜索引擎结果中提取

### 端口扫描

#### 全端口扫描

1. 进入项目 → **端口模块**
2. 选择扫描目标（单IP或IP段）
3. 选择扫描模式：
   - **Top 1000**：扫描常用1000端口
   - **Top 10000**：扫描常用10000端口
   - **全端口**：扫描1-65535所有端口

#### 服务识别

- **自动识别**：自动识别端口上的服务
- **版本检测**：检测服务版本信息
- **指纹匹配**：匹配已知服务指纹

### Web扫描

#### 指纹识别

1. 进入项目 → **域名模块**
2. Web扫描会自动进行指纹识别
3. 查看识别结果：
   - **Web服务器**：Apache、Nginx、IIS等
   - **开发框架**：Spring、Laravel、Django等
   - **CMS系统**：WordPress、Drupal等

#### 敏感目录扫描

- **默认目录**：admin、backup、test等
- **框架相关**：根据识别的框架扫描特定目录
- **自定义字典**：使用自定义目录字典

### 爬虫扫描

#### 智能爬虫

1. 进入项目 → **爬虫模块**
2. 配置爬虫参数：
   - **爬虫深度**：建议3-5层
   - **页面限制**：避免爬取过多页面
   - **相似度过滤**：过滤相似页面

#### 信息提取

- **链接收集**：提取所有发现的URL
- **参数分析**：分析表单和GET参数
- **JS接口**：从JavaScript中提取API接口
- **敏感信息**：邮箱、密钥、配置信息等

### PoC扫描

#### 漏洞检测

1. 进入项目 → **风险信息模块**
2. 点击**PoC扫描**
3. 选择扫描范围：
   - **全部PoC**：使用所有可用PoC
   - **指纹关联**：只使用与识别指纹相关的PoC
   - **高危PoC**：只扫描高危漏洞

#### 结果分析

- **漏洞分级**：高危、中危、低危、信息
- **详细信息**：漏洞描述、影响范围、修复建议
- **PoC验证**：提供验证步骤和Payload

## 搜索与过滤

### 搜索语法

#### 基础语法

```
# 域名搜索
domain="example.com"

# 端口搜索
port="80"

# 服务搜索
service="http"

# 标题搜索
title="管理后台"

# 正文搜索
body="login"
```

#### 高级语法

```
# 组合搜索
domain="example.com" && port="80"

# 排除搜索
port="80" && service!="http"

# 正则搜索
title=~/admin|后台/

# IP范围搜索
ip="192.168.1.0/24"
```

### 聚合搜索

#### 快速过滤

- **Web服务**：只显示Web相关资产
- **数据库**：只显示数据库服务
- **邮件服务**：只显示邮件相关服务
- **管理后台**：只显示疑似管理界面

#### 风险聚合

- **高危资产**：有高危漏洞的资产
- **变更资产**：最近发生变更的资产
- **新增资产**：新发现的资产

## 结果管理

### 数据导出

#### 导出格式

- **Excel**：适合给管理层查看
- **JSON**：适合程序处理
- **CSV**：适合数据分析
- **PDF报告**：正式的漏洞报告

#### 导出内容

- **资产清单**：所有发现的资产列表
- **漏洞报告**：发现的漏洞详细信息
- **扫描日志**：扫描过程的详细日志

### 报告生成

#### 自动报告

- **定时生成**：定期自动生成扫描报告
- **变更报告**：资产变更时自动生成
- **漏洞报告**：发现漏洞时自动生成

#### 自定义报告

- **模板配置**：自定义报告模板
- **内容选择**：选择报告包含的内容
- **格式设置**：设置报告格式和样式

## 监控与告警

### 变更监控

#### 资产变更

- **新增资产**：发现新的域名、IP、端口
- **服务变更**：服务版本、配置发生变化
- **下线监控**：检测资产是否下线

#### 监控频率

- **实时监控**：重要资产实时监控
- **定时监控**：定期检查资产状态
- **触发监控**：特定事件触发检查

### 告警配置

#### 告警类型

- **资产告警**：新资产、资产变更
- **漏洞告警**：发现高危漏洞
- **系统告警**：系统异常、节点离线

#### 告警方式

- **即时通知**：钉钉、企业微信、邮件
- **聚合通知**：定期汇总发送
- **分级通知**：按严重程度分别通知

## 最佳实践

### 扫描策略

#### 初次扫描

1. **资产发现**：先进行DNS和端口扫描，摸清资产情况
2. **指纹识别**：识别所有Web服务的技术栈
3. **深度扫描**：对重点资产进行深度扫描
4. **漏洞验证**：对发现的漏洞进行人工验证

#### 持续监控

1. **定期扫描**：设置定期扫描任务
2. **变更监控**：监控资产变更情况
3. **新漏洞检测**：及时更新PoC库检测新漏洞
4. **报告汇总**：定期生成监控报告

### 性能优化

#### 扫描优化

- **合理设置并发**：根据网络环境调整并发数
- **分时段扫描**：避开业务高峰期进行扫描
- **分布式部署**：使用多个扫描节点分担负载

#### 资源管理

- **定期清理**：清理过期的扫描数据
- **数据归档**：将历史数据进行归档
- **配置备份**：定期备份重要配置

### 安全建议

#### 权限控制

- **最小权限**：给用户分配最小必要权限
- **定期审查**：定期审查用户权限
- **操作审计**：记录所有重要操作

#### 数据保护

- **敏感信息**：妥善保护扫描发现的敏感信息
- **数据加密**：对重要数据进行加密存储
- **访问控制**：限制对敏感数据的访问 